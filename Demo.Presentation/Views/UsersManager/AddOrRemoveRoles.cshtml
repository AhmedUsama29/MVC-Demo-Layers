@model EditUserRolesViewModel
@inject IRolesServices _rolesServices

@{
    var roles = await _rolesServices.GetAllRolesAsync();
}

<h2>Edit User Roles</h2>

@if (roles == null || !roles.Any())
{
    <div class="alert alert-info">
        No Roles Available
    </div>
}
else
{
    <form method="post" asp-route-id="@Model.UserId">
        <div class="form-group">
            @foreach (var role in roles)
            {
                <div class="form-check">
                    <input type="checkbox"
                           name="UserRoles"
                           value="@role"
                           class="form-check-input"
                           checked="@(Model.UserRoles?.Contains(role) ?? false)" />
                    <label class="form-check-label">@role</label>
                </div>
            }
        </div>
        <div class="mt-4">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-save"></i> Save Changes
            </button>
            <a asp-action="Update" asp-route-id="@Model.UserId" class="btn btn-outline-secondary ms-2">
                <i class="fas fa-arrow-left"></i> Back to Update
            </a>
        </div>
    </form>
}